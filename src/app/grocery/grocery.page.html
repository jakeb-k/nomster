<app-header></app-header>

<ion-content>
  <div class="grocery-actions">
    <h3>Grocery List</h3>
    <ion-button fill="clear" (click)="deleteAllGroceries()">RESET</ion-button>
  </div>
  <!-- <div class="aisle-header">
    <p>Produce</p>
  </div> -->
  <div class="goalItem" *ngFor="let g of groceries; let i = index">
    <div *ngIf="i === 0 || groceries[i].aisle !== groceries[i - 1].aisle" class="aisle-header">
      {{ g.aisle }}
    </div>
    <div class="grocery-item">
      <div class="goalContent"> 
        <p>{{g.name}}</p>
      </div>
      <div class="goalActions">
        <ion-button fill="clear" (click)="deleteGrocery(g)"><ion-icon name="close-circle-outline"></ion-icon></ion-button>
      </div>
    </div>
  </div>
  <div style="margin-top:80px"></div>
  <div class="add-btn">
    <button id="open-modal" class="navBtn">ADD NEW</button>
  </div>

  <ion-modal trigger="open-modal" (willDismiss)="($event)">
    <ng-template>
      <div class="modal-cont ion-padding"> 
        <ion-button class="backBtn" (click)="cancel()">
          BACK
        </ion-button>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Add to the list!</ion-card-title>
            <ion-card-subtitle>Select the grocery type and then your item.</ion-card-subtitle>
          </ion-card-header>
        
          <ion-card-content>
            <ion-item>
              <ion-select>
                <ion-select-option *ngFor="let g of groceries" [value]="g">{{g}}</ion-select-option>
              </ion-select>
            </ion-item>
          
            <ion-item>
              <ion-input type="number" label="Grocery Name" labelPlacement="stacked"  placeholder="Enter your grocery"></ion-input>
            </ion-item>
          </ion-card-content>
        </ion-card>
        <button class="navBtn">ADD ITEM</button>
      </div>
    </ng-template>
  </ion-modal>

</ion-content>